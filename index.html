<!DOCTYPE html>
<html>
  <head>
    <title> CaliFourNia</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <style>
  @keyframes bgcolor {
    0% {
        background-color: #45a3e5
    }

    30% {
        background-color: #66bf39
    }

    60% {
        background-color: #eb670f
    }

    90% {
        background-color: #f35
    }

    100% {
        background-color: #864cbf
    }
}

body {
    -webkit-animation: bgcolor 20s infinite;
    animation: bgcolor 10s infinite;
    -webkit-animation-direction: alternate;
    animation-direction: alternate;
}
  </style>
  <body>

  <nav>
    <p style="color:white">CaliFourNia</p>
    <ul>
      <li><a style="color:white" href="index.html">Home</a></li>
        <li><a style="color:white" href="#">Music</a>
          <ul>
              <li><a href="Singing.html">Singing</a></li>
              <li><a href="EDM.html">EDM</a></li>
              <li><a href="Dubstep.html">Dubstep</a></li>
          </ul>
        </li>
          <li><a style="color:white" href="#">Videos</a>
            <ul>
              <li><a href="Gaming.html">Gaming</a></li>
              <li><a href="Music.html">Music</a></li>
              <li><a href="Vlogs.html">Vlogs</a></li>
            </ul>
          </li>
            <li><a style="color:white" href="#">About us</a>
              <ul>
                <li><a href="Tony Wilkins.html">Tony Wilkins</a></li>
                <li><a href="Brady Dembinski.html">Brady Dembinski</a></li>
                <li><a href="CaliFourNia.html">CaliFourNia</a></li>
                <li><a href="Social Media.html">Social Media</a></li>
              </ul>
            </li>
            <li><a style="color:white" href="#">Help</a>
              <ul>
                  <li><a href="How to.html">How to videos</a></li>
                  <li><a href="Links for coding help.html">Links for coding help</a></li>
                  <li><a href="Links for music help.html">Links for music help</a></li>
              </ul>
            </li>
    </ul>
  </nav>

  <p style="color:white">Welcome to my website :)</p>

  <iframe width="560" height="315" src="https://www.youtube.com/embed/playlist?list=PLchfyJFTUvtJl-XrK4K67m7YRuCJi35-M" frameborder="0" allow='autoplay,encrypted-media' allowfullscreen></iframe>

  <script>var video_player = document.getElementById("video_player");
video = video_player.getElementsByTagName("video")[0],
  video_links = video_player.getElementsByTagName("figcaption")[0],
  source = video.getElementsByTagName("source"),
  link_list = [],
  vidDir = "http://demosthenes.info/assets/videos/",
  currentVid = 0,
  allLnks = video_links.children,
  lnkNum = allLnks.length;
video.removeAttribute("controls");
video.removeAttribute("poster");

(function() {
  function playVid(index) {
    video_links.children[index].classList.add("currentvid");
    source[1].src = vidDir + link_list[index] + ".webm";
    source[0].src = vidDir + link_list[index] + ".mp4";
    currentVid = index;
    video.load();
    video.play();
  }

  for (var i = 0; i < lnkNum; i++) {
    var filename = allLnks[i].href;
    link_list[i] = filename.match(/([^\/]+)(?=\.\w+$)/)[0];
    (function(index) {
      allLnks[i].onclick = function(i) {
        i.preventDefault();
        for (var i = 0; i < lnkNum; i++) {
          allLnks[i].classList.remove("currentvid");
        }
        playVid(index);
      }
    })(i);
  }
  video.addEventListener('ended', function() {
    allLnks[currentVid].classList.remove("currentvid");
    if ((currentVid + 1) >= lnkNum) {
      nextVid = 0
    } else {
      nextVid = currentVid + 1
    }
    playVid(nextVid);
  })

  video.addEventListener('mouseenter', function() {
    video.setAttribute("controls", "true");
  })

  video.addEventListener('mouseleave', function() {
    video.removeAttribute("controls");
  })

  var indexOf = function(needle) {
    if (typeof Array.prototype.indexOf === 'function') {
      indexOf = Array.prototype.indexOf;
    } else {
      indexOf = function(needle) {
        var i = -1,
          index = -1;
        for (i = 0; i < this.length; i++) {
          if (this[i] === needle) {
            index = i;
            break;
          }
        }
        return index;
      };
    }
    return indexOf.call(this, needle);
  };
  var focusedLink = document.activeElement;
  index = indexOf.call(allLnks, focusedLink);

  document.addEventListener('keydown', function(e) {
    if (index) {
      var focusedElement = document.activeElement;
      if (e.keyCode == 40 || e.keyCode == 39) { // down or right cursor
        var nextNode = focusedElement.nextElementSibling;
        if (nextNode) {
          nextNode.focus();
        } else {
          video_links.firstElementChild.focus();
        }
      }
      if (e.keyCode == 38 || e.keyCode == 37) { // up or left cursor
        var previousNode = focusedElement.previousElementSibling;
        if (previousNode) {
          previousNode.focus();
        } else {
          video_links.lastElementChild.focus();
        }
      }
    }
  });

})();
</script>

  </body>
</html>
